<header class="margin-bottom clear">
    <h1 class="pull-left">艺术品版权管理</h1>
    <div class="col-lg-6 pull-left">
        <div class="input-group">
            <input type="text" class="form-control" placeholder="支持ID、作品名、作者搜索" ng-model="searchText">
			<span class="input-group-btn">
				<button class="btn btn-default" type="button" ng-click="search(searchText)">搜索</button>
			</span>
        </div>
    </div>
    <button type="button" class="btn btn-info pull-right" ui-sref="tabs.artwork/artwork({artworkId:'NaN'})" ng-show="{{userInfo.data}} != 3">+ 创建艺术品</button>
</header>
<section class="margin-bottom">
    <table class="table table-bordered">
        <tr>
            <th class="text-center"></th>
            <th class="text-center">版权ID</th>
            <th class="text-center">作品名称</th>
            <th class="text-center">图片预览</th>
            <th class="text-center">作者</th>
            <th class="text-center">尺寸</th>
            <th class="text-center">年代</th>
            <th class="text-center">材质</th>
            <th class="text-center">作品卡</th>
            <th class="text-center">授权卡</th>
            <th class="text-center">审批</th>
        </tr>
        <tr ng-repeat="item in artworkList">
            <td class="text-center"><input type="checkbox" ng-checked="isSelected(item.id)" ng-click="updateSelection($event,item.id)"></td>
            <td class="text-center"><a ui-sref="tabs.artwork/detail({artworkId:item.id})">{{item.copyright_number}}</a></td>
            <td class="text-center">{{item.name}}</td>
            <td class="text-center"><img class="sImg" ng-src="{{item.cover}}" alt=""></td>
            <td class="text-center">{{item.artist_name}}</td>
            <td class="text-center"><span ng-if="!item.width">不固定</span><span ng-if="item.width">{{item.width}}*{{item.height}}</span></td>
            <td class="text-center">{{item.year}}</td>
            <td class="text-center">
                <span>{{item.material}}</span>
            </td>
            <td class="text-center"><button type="button" class="btn btn-default" ui-sref="tabs.artwork/artwork({artworkId:item.id})" ng-disabled="{{userInfo.data}} == 3">编辑</button></td>
            <td class="text-center">
                <button type="button" class="btn btn-default" ng-show="item.authorize_body == null " ui-sref="tabs.artwork/accredit({artworkId:item.id})" ng-disabled="{{userInfo.data}} == 3">添加</button>
                <button type="button" class="btn btn-default" ng-show="item.authorize_body != null " ui-sref="tabs.artwork/accredit({artworkId:item.id})" ng-disabled="{{userInfo.data}} == 3">编辑</button>
            </td>
            <td class="text-center"><button class="btn btn-default" ng-disabled="item.authorize_body == null" ui-sref="tabs.artwork/request({artworkId:item.id})">发起</button></td>
        </tr>
    </table>
</section>
<footer>
    <input type="checkbox" ng-model="all" ng-click="allChecked(all)"> 全选
    <button type="button" class="btn btn-info pull-right" ng-click="print()">打印{{selected.length}}</button>
    <button type="button" class="btn btn-danger pull-right" style="margin-right: 10px;" ng-click="delArtwork()" ng-show="{{userInfo.data}} != 3">删除{{selected.length}}</button>
</footer>


<!-- 模态框 -->
<div class="modal fade" tabindex="-1" role="dialog" id="myModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">版权管理平台</h4>
            </div>
            <div class="modal-body">
                <p>{{showMsg}}</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="no()">{{cancel}}</button>
                <button type="button" class="btn btn-primary" ng-hide="flag" ng-click="yes()">{{conf}}</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->